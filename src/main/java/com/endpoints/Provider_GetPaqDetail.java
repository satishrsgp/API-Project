package com.endpoints;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.Objects;

import org.testng.asserts.SoftAssert;

import com.testscripts.BaseTest;
import com.utils.DatabaseConnection;
import com.utils.FinalAssertions;
import com.utils.JsonListArray;
import com.utils.Log;

public class Provider_GetPaqDetail {


	public static Boolean Provider_GetPaqDetail_Test(HashMap<String, String> parameters, String strResponse, String strUniqueJsonToken, SoftAssert softAssert)
	{
		Boolean status=false;
		String strQuery;

		if(!strResponse.isEmpty() && !strResponse.contains("is not valid for Guid"))
		{
			try
			{
				if (Objects.equals(parameters.get("TypeofItem"),"ICS"))
				{
					strQuery="SELECT TOP (2) [Distinct4].[C13] AS itemId, [Distinct4].[C28] AS secondaryId, case when [Distinct4].[C2] = 'I' then 'Image' when [Distinct4].[C2] = 'L' then 'Order' when [Distinct4].[C2] = 'D' then 'Document' when [Distinct4].[C2] = 'S' then 'IcsImage' end AS type, [Distinct4].[C14] AS description, [Distinct4].[C16] AS name, [Distinct4].[C15] AS fileName, [Distinct4].[C17] AS format, case when [Distinct4].[C27] = 'P' then 'Pending' WHEN [Distinct4].[C27] = 'A' THEN 'SignedOff' WHEN [Distinct4].[C27] = 'R' THEN 'Rejected' end AS signoffStatus, null AS signoffDescription, [Distinct4].[C8] AS practiceId, [Distinct4].[C9] AS practiceName, [Distinct4].[C26] AS ICS_ProvideID, [Distinct4].[C10] AS encounterId, [Distinct4].[C11] AS encounterTimestamp, [Distinct4].[C12] AS encounterTimestampTimezone, [Distinct4].[C3] AS personId, [Distinct4].[C4] AS firstName, [Distinct4].[C5] AS lastName, [Distinct4].[C6] AS middleName, [Distinct4].[C24] AS appCreatedBy, [Distinct4].[C18] AS createdBy, [Distinct4].[C19]  AS createTimestamp, [Distinct4].[C20] AS createTimestampTimezone, [Distinct4].[C21] AS modifiedBy, [Distinct4].[C22]  AS modifyTimestamp, [Distinct4].[C23] AS modifyTimestampTimezone, case when [Distinct4].[C29] = 'Y' then 'true' when [Distinct4].[C29] = 'N' then 'false' else [Distinct4].[C29] end AS isCompleted, cast([Distinct4].[C33] as varchar) AS labPrecedence FROM ( SELECT DISTINCT [UnionAll4].[C1] AS [C1], [UnionAll4].[C2] AS [C2], [UnionAll4].[C3] AS [C3], [UnionAll4].[C4] AS [C4], [UnionAll4].[C5] AS [C5], [UnionAll4].[C6] AS [C6], [UnionAll4].[C7] AS [C7], [UnionAll4].[C8] AS [C8], [UnionAll4].[C9] AS [C9], [UnionAll4].[C10] AS [C10], [UnionAll4].[C11] AS [C11], [UnionAll4].[C12] AS [C12], [UnionAll4].[C13] AS [C13], [UnionAll4].[C14] AS [C14], [UnionAll4].[C15] AS [C15], [UnionAll4].[C16] AS [C16], [UnionAll4].[C17] AS [C17], [UnionAll4].[C18] AS [C18], [UnionAll4].[C19] AS [C19], [UnionAll4].[C20] AS [C20], [UnionAll4].[C21] AS [C21], [UnionAll4].[C22] AS [C22], [UnionAll4].[C23] AS [C23], [UnionAll4].[C24] AS [C24], [UnionAll4].[C25] AS [C25], [UnionAll4].[C26] AS [C26], [UnionAll4].[C27] AS [C27], [UnionAll4].[C28] AS [C28], [UnionAll4].[C29] AS [C29], [UnionAll4].[C30] AS [C30], [UnionAll4].[C31] AS [C31], [UnionAll4].[C32] AS [C32], [UnionAll4].[C33] AS [C33], [UnionAll4].[C34] AS [C34], [UnionAll4].[C35] AS [C35], [UnionAll4].[C36] AS [C36] FROM (SELECT [Distinct3].[C1] AS [C1], [Distinct3].[C2] AS [C2], [Distinct3].[C3] AS [C3], [Distinct3].[C4] AS [C4], [Distinct3].[C5] AS [C5], [Distinct3].[C6] AS [C6], [Distinct3].[C7] AS [C7], [Distinct3].[C8] AS [C8], [Distinct3].[C9] AS [C9], [Distinct3].[C10] AS [C10], [Distinct3].[C11] AS [C11], [Distinct3].[C12] AS [C12], [Distinct3].[C13] AS [C13], [Distinct3].[C14] AS [C14], [Distinct3].[C15] AS [C15], [Distinct3].[C16] AS [C16], [Distinct3].[C17] AS [C17], [Distinct3].[C18] AS [C18], [Distinct3].[C19] AS [C19], [Distinct3].[C20] AS [C20], [Distinct3].[C21] AS [C21], [Distinct3].[C22] AS [C22], [Distinct3].[C23] AS [C23], [Distinct3].[C24] AS [C24], [Distinct3].[C25] AS [C25], [Distinct3].[C26] AS [C26], [Distinct3].[C27] AS [C27], [Distinct3].[C28] AS [C28], [Distinct3].[C29] AS [C29], [Distinct3].[C30] AS [C30], [Distinct3].[C31] AS [C31], [Distinct3].[C32] AS [C32], [Distinct3].[C33] AS [C33], [Distinct3].[C34] AS [C34], [Distinct3].[C35] AS [C35], [Distinct3].[C36] AS [C36] FROM ( SELECT DISTINCT [UnionAll3].[C1] AS [C1], [UnionAll3].[C2] AS [C2], [UnionAll3].[C3] AS [C3], [UnionAll3].[C4] AS [C4], [UnionAll3].[C5] AS [C5], [UnionAll3].[C6] AS [C6], [UnionAll3].[C7] AS [C7], [UnionAll3].[C8] AS [C8], [UnionAll3].[C9] AS [C9], [UnionAll3].[C10] AS [C10], [UnionAll3].[C11] AS [C11], [UnionAll3].[C12] AS [C12], [UnionAll3].[C13] AS [C13], [UnionAll3].[C14] AS [C14], [UnionAll3].[C15] AS [C15], [UnionAll3].[C16] AS [C16], [UnionAll3].[C17] AS [C17], [UnionAll3].[C18] AS [C18], [UnionAll3].[C19] AS [C19], [UnionAll3].[C20] AS [C20], [UnionAll3].[C21] AS [C21], [UnionAll3].[C22] AS [C22], [UnionAll3].[C23] AS [C23], [UnionAll3].[C24] AS [C24], [UnionAll3].[C25] AS [C25], [UnionAll3].[C26] AS [C26], [UnionAll3].[C27] AS [C27], [UnionAll3].[C28] AS [C28], [UnionAll3].[C29] AS [C29], [UnionAll3].[C30] AS [C30], [UnionAll3].[C31] AS [C31], [UnionAll3].[C32] AS [C32], [UnionAll3].[C33] AS [C33], [UnionAll3].[C34] AS [C34], [UnionAll3].[C35] AS [C35], [UnionAll3].[C36] AS [C36] FROM (SELECT [Distinct2].[C1] AS [C1], [Distinct2].[C2] AS [C2], [Distinct2].[C3] AS [C3], [Distinct2].[C4] AS [C4], [Distinct2].[C5] AS [C5], [Distinct2].[C6] AS [C6], [Distinct2].[C7] AS [C7], [Distinct2].[C8] AS [C8], [Distinct2].[C9] AS [C9], [Distinct2].[C10] AS [C10], [Distinct2].[C11] AS [C11], [Distinct2].[C12] AS [C12], [Distinct2].[C13] AS [C13], [Distinct2].[C14] AS [C14], [Distinct2].[C15] AS [C15], [Distinct2].[C16] AS [C16], [Distinct2].[C17] AS [C17], [Distinct2].[C18] AS [C18], [Distinct2].[C19] AS [C19], [Distinct2].[C20] AS [C20], [Distinct2].[C21] AS [C21], [Distinct2].[C22] AS [C22], [Distinct2].[C23] AS [C23], [Distinct2].[C24] AS [C24], [Distinct2].[C25] AS [C25], [Distinct2].[C26] AS [C26], [Distinct2].[C27] AS [C27], [Distinct2].[C28] AS [C28], [Distinct2].[C29] AS [C29], [Distinct2].[C30] AS [C30], [Distinct2].[C31] AS [C31], [Distinct2].[C32] AS [C32], [Distinct2].[C33] AS [C33], [Distinct2].[C34] AS [C34], [Distinct2].[C35] AS [C35], [Distinct2].[C36] AS [C36] FROM ( SELECT DISTINCT [UnionAll2].[C1] AS [C1], [UnionAll2].[C2] AS [C2], [UnionAll2].[C3] AS [C3], [UnionAll2].[C4] AS [C4], [UnionAll2].[C5] AS [C5], [UnionAll2].[C6] AS [C6], [UnionAll2].[C7] AS [C7], [UnionAll2].[C8] AS [C8], [UnionAll2].[C9] AS [C9], [UnionAll2].[C10] AS [C10], [UnionAll2].[C11] AS [C11], [UnionAll2].[C12] AS [C12], [UnionAll2].[C13] AS [C13], [UnionAll2].[C14] AS [C14], [UnionAll2].[C15] AS [C15], [UnionAll2].[C16] AS [C16], [UnionAll2].[C17] AS [C17], [UnionAll2].[C18] AS [C18], [UnionAll2].[C19] AS [C19], [UnionAll2].[C20] AS [C20], [UnionAll2].[C21] AS [C21], [UnionAll2].[C22] AS [C22], [UnionAll2].[C23] AS [C23], [UnionAll2].[C24] AS [C24], [UnionAll2].[C25] AS [C25], [UnionAll2].[C26] AS [C26], [UnionAll2].[C27] AS [C27], [UnionAll2].[C28] AS [C28], [UnionAll2].[C29] AS [C29], [UnionAll2].[C30] AS [C30], [UnionAll2].[C31] AS [C31], [UnionAll2].[C32] AS [C32], [UnionAll2].[C33] AS [C33], [UnionAll2].[C34] AS [C34], [UnionAll2].[C35] AS [C35], [UnionAll2].[C36] AS [C36] FROM (SELECT [Distinct1].[C1] AS [C1], [Distinct1].[C2] AS [C2], [Distinct1].[C3] AS [C3], [Distinct1].[C4] AS [C4], [Distinct1].[C5] AS [C5], [Distinct1].[C6] AS [C6], [Distinct1].[C7] AS [C7], [Distinct1].[C8] AS [C8], [Distinct1].[C9] AS [C9], [Distinct1].[C10] AS [C10], [Distinct1].[C11] AS [C11], [Distinct1].[C12] AS [C12], [Distinct1].[C13] AS [C13], [Distinct1].[C14] AS [C14], [Distinct1].[C15] AS [C15], [Distinct1].[C16] AS [C16], [Distinct1].[C17] AS [C17], [Distinct1].[C18] AS [C18], [Distinct1].[C19] AS [C19], [Distinct1].[C20] AS [C20], [Distinct1].[C21] AS [C21], [Distinct1].[C22] AS [C22], [Distinct1].[C23] AS [C23], [Distinct1].[C24] AS [C24], [Distinct1].[C25] AS [C25], [Distinct1].[C26] AS [C26], [Distinct1].[C27] AS [C27], [Distinct1].[C28] AS [C28], [Distinct1].[C29] AS [C29], [Distinct1].[C30] AS [C30], [Distinct1].[C31] AS [C31], [Distinct1].[C32] AS [C32], [Distinct1].[C33] AS [C33], [Distinct1].[C34] AS [C34], [Distinct1].[C35] AS [C35], [Distinct1].[C36] AS [C36] FROM ( SELECT DISTINCT [UnionAll1].[C1] AS [C1], [UnionAll1].[C2] AS [C2], [UnionAll1].[person_id] AS [C3], [UnionAll1].[first_name] AS [C4], [UnionAll1].[last_name] AS [C5], [UnionAll1].[middle_name] AS [C6], [UnionAll1].[enterprise_id] AS [C7], [UnionAll1].[practice_id] AS [C8], [UnionAll1].[practice_name] AS [C9], [UnionAll1].[enc_id] AS [C10], [UnionAll1].[C3] AS [C11], [UnionAll1].[enc_timestamp_tz] AS [C12], [UnionAll1].[document_id] AS [C13], [UnionAll1].[document_desc] AS [C14], [UnionAll1].[document_file] AS [C15], [UnionAll1].[C4] AS [C16], [UnionAll1].[file_format] AS [C17], [UnionAll1].[created_by] AS [C18], [UnionAll1].[create_timestamp] AS [C19], [UnionAll1].[create_timestamp_tz] AS [C20], [UnionAll1].[modified_by] AS [C21], [UnionAll1].[modify_timestamp] AS [C22], [UnionAll1].[modify_timestamp_tz] AS [C23], [UnionAll1].[app_created_by] AS [C24], [UnionAll1].[perm_pos] AS [C25], [UnionAll1].[paq_provider_id] AS [C26], [UnionAll1].[signoff_status] AS [C27], [UnionAll1].[C5] AS [C28], [UnionAll1].[C6] AS [C29], [UnionAll1].[rendering_provider_id] AS [C30], [UnionAll1].[C7] AS [C31], [UnionAll1].[C8] AS [C32], [UnionAll1].[C9] AS [C33], [UnionAll1].[privacy_level] AS [C34], [UnionAll1].[incl_ind] AS [C35], [UnionAll1].[excl_ind] AS [C36] FROM (SELECT 1 AS [C1], N'D' AS [C2], [Project3].[person_id] AS [person_id], [Project3].[first_name] AS [first_name], [Project3].[last_name] AS [last_name], [Project3].[middle_name] AS [middle_name], [Project3].[enterprise_id] AS [enterprise_id], [Project3].[practice_id] AS [practice_id], [Project3].[practice_name] AS [practice_name], [Project3].[enc_id] AS [enc_id], CAST( [Project3].[enc_timestamp] AS datetime2) AS [C3], [Project3].[enc_timestamp_tz] AS [enc_timestamp_tz], [Project3].[document_id] AS [document_id], [Project3].[document_desc] AS [document_desc], [Project3].[document_file] AS [document_file], CAST(NULL AS varchar(1)) AS [C4], [Project3].[file_format] AS [file_format], [Project3].[created_by] AS [created_by], [Project3].[create_timestamp] AS [create_timestamp], [Project3].[create_timestamp_tz] AS [create_timestamp_tz], [Project3].[modified_by] AS [modified_by], [Project3].[modify_timestamp] AS [modify_timestamp], [Project3].[modify_timestamp_tz] AS [modify_timestamp_tz], [Project3].[app_created_by] AS [app_created_by], [Project3].[perm_pos] AS [perm_pos], [Project3].[paq_provider_id] AS [paq_provider_id], [Project3].[signoff_status] AS [signoff_status], CAST(NULL AS uniqueidentifier) AS [C5], CAST(NULL AS varchar(1)) AS [C6], [Project3].[rendering_provider_id] AS [rendering_provider_id], CAST(NULL AS uniqueidentifier) AS [C7], [Project3].[C1] AS [C8], CAST(NULL AS varchar(1)) AS [C9], [Project3].[privacy_level] AS [privacy_level], [Project3].[incl_ind] AS [incl_ind], [Project3].[excl_ind] AS [excl_ind] FROM ( SELECT [Project1].[enc_id] AS [enc_id], [Project1].[enterprise_id] AS [enterprise_id], [Project1].[practice_id] AS [practice_id], [Project1].[person_id] AS [person_id], [Project1].[enc_timestamp] AS [enc_timestamp], [Project1].[enc_timestamp_tz] AS [enc_timestamp_tz], [Project1].[rendering_provider_id] AS [rendering_provider_id], [Project1].[document_id] AS [document_id], [Project1].[document_file] AS [document_file], [Project1].[document_desc] AS [document_desc], [Project1].[file_format] AS [file_format], [Project1].[app_created_by] AS [app_created_by], [Project1].[signoff_status] AS [signoff_status], [Project1].[created_by] AS [created_by], [Project1].[create_timestamp] AS [create_timestamp], [Project1].[create_timestamp_tz] AS [create_timestamp_tz], [Project1].[modified_by] AS [modified_by], [Project1].[modify_timestamp] AS [modify_timestamp], [Project1].[modify_timestamp_tz] AS [modify_timestamp_tz], [Project1].[paq_provider_id] AS [paq_provider_id], [Project1].[first_name] AS [first_name], [Project1].[middle_name] AS [middle_name], [Project1].[last_name] AS [last_name], [Project1].[practice_name] AS [practice_name], CASE WHEN ( EXISTS (SELECT 1 AS [C1] FROM [dbo].[lab_results_obx] AS [Extent8] WHERE ([Extent8].[enterprise_id] = [Project1].[enterprise_id]) AND ([Extent8].[practice_id] = [Project1].[practice_id]) AND ([Extent8].[person_id] = [Project1].[person_id]) AND (N'[{Document}]' = [Extent8].[obs_id]) AND (([Extent8].[observ_value] = (LOWER( CAST( [Project1].[document_id] AS nvarchar(max))))) OR (([Extent8].[observ_value] IS NULL) AND (LOWER( CAST( [Project1].[document_id] AS nvarchar(max))) IS NULL))) AND (N'N' = [Extent8].[delete_ind]) )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1], [Project1].[perm_pos] AS [perm_pos], [Project1].[privacy_level] AS [privacy_level], [Project1].[incl_ind] AS [incl_ind], [Project1].[excl_ind] AS [excl_ind] FROM ( SELECT [Extent1].[enc_id] AS [enc_id], [Extent1].[enterprise_id] AS [enterprise_id], [Extent1].[practice_id] AS [practice_id], [Extent1].[person_id] AS [person_id], [Extent1].[enc_timestamp] AS [enc_timestamp], [Extent1].[enc_timestamp_tz] AS [enc_timestamp_tz], [Extent1].[rendering_provider_id] AS [rendering_provider_id], [Extent2].[document_id] AS [document_id], [Extent2].[document_file] AS [document_file], [Extent2].[document_desc] AS [document_desc], [Extent2].[file_format] AS [file_format], [Extent2].[app_created_by] AS [app_created_by], [Extent2].[signoff_status] AS [signoff_status], [Extent2].[created_by] AS [created_by], [Extent2].[create_timestamp] AS [create_timestamp], [Extent2].[create_timestamp_tz] AS [create_timestamp_tz], [Extent2].[modified_by] AS [modified_by], [Extent2].[modify_timestamp] AS [modify_timestamp], [Extent2].[modify_timestamp_tz] AS [modify_timestamp_tz], [Extent2].[paq_provider_id] AS [paq_provider_id], [Extent4].[first_name] AS [first_name], [Extent4].[middle_name] AS [middle_name], [Extent4].[last_name] AS [last_name], [Extent5].[practice_name] AS [practice_name], [Extent3].[perm_pos] AS [perm_pos], [Extent6].[privacy_level] AS [privacy_level], [Extent7].[incl_ind] AS [incl_ind], [Extent7].[excl_ind] AS [excl_ind] FROM [dbo].[patient_encounter] AS [Extent1] INNER JOIN [dbo].[patient_documents] AS [Extent2] ON ([Extent1].[enc_id] = [Extent2].[enc_id]) AND ([Extent1].[enterprise_id] = [Extent2].[enterprise_id]) AND ([Extent1].[practice_id] = [Extent2].[practice_id]) LEFT OUTER JOIN [dbo].[security_items] AS [Extent3] ON (([Extent2].[document_desc] = [Extent3].[description]) OR (([Extent2].[document_desc] IS NULL) AND ([Extent3].[description] IS NULL))) AND (N'D' = [Extent3].[item_type]) AND (N'N' = [Extent3].[delete_ind]) INNER JOIN [dbo].[person] AS [Extent4] ON [Extent1].[person_id] = [Extent4].[person_id] INNER JOIN [dbo].[practice] AS [Extent5] ON [Extent1].[practice_id] = [Extent5].[practice_id] LEFT OUTER JOIN [dbo].[patient] AS [Extent6] ON ([Extent4].[person_id] = [Extent6].[person_id]) AND ('"+System.getProperty("LoggedInEnterpriseId")+"' = [Extent6].[enterprise_id]) AND ('"+System.getProperty("LoggedInPracticeId")+"' = [Extent6].[practice_id]) LEFT OUTER JOIN [dbo].[user_person_filter] AS [Extent7] ON ([Extent4].[person_id] = [Extent7].[person_id]) AND ('"+System.getProperty("LoggedInUserId")+"' = [Extent7].[user_id]) AND ('"+System.getProperty("LoggedInEnterpriseId")+"' = [Extent7].[enterprise_id]) AND ('"+System.getProperty("LoggedInPracticeId")+"' = [Extent7].[practice_id]) WHERE [Extent2].[signoff_status] IS NOT NULL ) AS [Project1] ) AS [Project3] WHERE ([Project3].[enterprise_id] = '"+System.getProperty("LoggedInEnterpriseId")+"') AND (([Project3].[paq_provider_id] = '"+parameters.get("providerId")+"') OR (([Project3].[paq_provider_id] IS NULL) AND ([Project3].[rendering_provider_id] = '"+parameters.get("providerId")+"'))) UNION ALL SELECT 1 AS [C1], N'N' AS [C2], [Filter4].[person_id1] AS [person_id], [Filter4].[first_name] AS [first_name], [Filter4].[last_name] AS [last_name], [Filter4].[middle_name] AS [middle_name], [Filter4].[enterprise_id1] AS [enterprise_id], [Filter4].[practice_id1] AS [practice_id], [Filter4].[practice_name] AS [practice_name], [Filter4].[enc_id1] AS [enc_id], CAST( [Filter4].[enc_timestamp] AS datetime2) AS [C3], [Filter4].[enc_timestamp_tz] AS [enc_timestamp_tz], [Filter4].[note_id] AS [note_id], CASE WHEN (LTRIM(RTRIM([Filter4].[table_name])) IS NULL) THEN N'' ELSE LTRIM(RTRIM([Filter4].[table_name])) END + N'.' + CASE WHEN (LTRIM(RTRIM([Filter4].[field_name])) IS NULL) THEN N'' ELSE LTRIM(RTRIM([Filter4].[field_name])) END AS [C4], CASE WHEN (LOWER( CAST( [Filter4].[note_id] AS nvarchar(max))) IS NULL) THEN N'' ELSE LOWER( CAST( [Filter4].[note_id] AS nvarchar(max))) END + N'.rtf' AS [C5], CAST(NULL AS varchar(1)) AS [C6], N'RTF' AS [C7], [Filter4].[created_by1] AS [created_by], [Filter4].[create_timestamp1] AS [create_timestamp], [Filter4].[create_timestamp_tz1] AS [create_timestamp_tz], [Filter4].[modified_by1] AS [modified_by], [Filter4].[modify_timestamp1] AS [modify_timestamp], [Filter4].[modify_timestamp_tz1] AS [modify_timestamp_tz], CAST(NULL AS varchar(1)) AS [C8], [Filter4].[perm_pos] AS [perm_pos], [Filter4].[paq_provider_id] AS [paq_provider_id], [Filter4].[signoff_status] AS [signoff_status], CAST(NULL AS uniqueidentifier) AS [C9], CAST(NULL AS varchar(1)) AS [C10], [Filter4].[rendering_provider_id] AS [rendering_provider_id], CAST(NULL AS uniqueidentifier) AS [C11], cast(0 as bit) AS [C12], CAST(NULL AS varchar(1)) AS [C13], [Filter4].[privacy_level] AS [privacy_level], [Extent15].[incl_ind] AS [incl_ind], [Extent15].[excl_ind] AS [excl_ind] FROM (SELECT [Extent9].[enc_id] AS [enc_id1], [Extent9].[enterprise_id] AS [enterprise_id1], [Extent9].[practice_id] AS [practice_id1], [Extent9].[person_id] AS [person_id1], [Extent9].[enc_timestamp] AS [enc_timestamp], [Extent9].[enc_timestamp_tz] AS [enc_timestamp_tz], [Extent9].[rendering_provider_id] AS [rendering_provider_id], [Extent10].[note_id] AS [note_id], [Extent10].[table_name] AS [table_name], [Extent10].[field_name] AS [field_name], [Extent10].[signoff_status] AS [signoff_status], [Extent10].[paq_provider_id] AS [paq_provider_id], [Extent10].[created_by] AS [created_by1], [Extent10].[create_timestamp] AS [create_timestamp1], [Extent10].[create_timestamp_tz] AS [create_timestamp_tz1], [Extent10].[modified_by] AS [modified_by1], [Extent10].[modify_timestamp] AS [modify_timestamp1], [Extent10].[modify_timestamp_tz] AS [modify_timestamp_tz1], [Extent11].[perm_pos] AS [perm_pos], [Extent12].[person_id] AS [person_id2], [Extent12].[first_name] AS [first_name], [Extent12].[middle_name] AS [middle_name], [Extent12].[last_name] AS [last_name], [Extent13].[practice_name] AS [practice_name], [Extent14].[privacy_level] AS [privacy_level] FROM [dbo].[patient_encounter] AS [Extent9] INNER JOIN [dbo].[patient_notes] AS [Extent10] ON ([Extent9].[enc_id] = [Extent10].[enc_id]) AND ([Extent9].[enterprise_id] = [Extent10].[enterprise_id]) AND ([Extent9].[practice_id] = [Extent10].[practice_id]) LEFT OUTER JOIN [dbo].[templates] AS [Extent11] ON ((SUBSTRING([Extent10].[table_name], 0 + 1, (LEN([Extent10].[table_name])) - 1)) = [Extent11].[template_name]) OR ((SUBSTRING([Extent10].[table_name], 0 + 1, (LEN([Extent10].[table_name])) - 1) IS NULL) AND ([Extent11].[template_name] IS NULL)) INNER JOIN [dbo].[person] AS [Extent12] ON [Extent9].[person_id] = [Extent12].[person_id] INNER JOIN [dbo].[practice] AS [Extent13] ON [Extent9].[practice_id] = [Extent13].[practice_id] LEFT OUTER JOIN [dbo].[patient] AS [Extent14] ON ([Extent12].[person_id] = [Extent14].[person_id]) AND ('"+System.getProperty("LoggedInEnterpriseId")+"' = [Extent14].[enterprise_id]) AND ('"+System.getProperty("LoggedInPracticeId")+"' = [Extent14].[practice_id]) WHERE [Extent10].[signoff_status] IS NOT NULL ) AS [Filter4] LEFT OUTER JOIN [dbo].[user_person_filter] AS [Extent15] ON ([Filter4].[person_id2] = [Extent15].[person_id]) AND ('"+System.getProperty("LoggedInUserId")+"' = [Extent15].[user_id]) AND ('"+System.getProperty("LoggedInEnterpriseId")+"' = [Extent15].[enterprise_id]) AND ('"+System.getProperty("LoggedInPracticeId")+"' = [Extent15].[practice_id]) WHERE ([Filter4].[enterprise_id1] = '"+System.getProperty("LoggedInEnterpriseId")+"') AND (([Filter4].[paq_provider_id] = '"+parameters.get("providerId")+"') OR (([Filter4].[paq_provider_id] IS NULL) AND ([Filter4].[rendering_provider_id] = '"+parameters.get("providerId")+"')))) AS [UnionAll1] ) AS [Distinct1] UNION ALL SELECT 1 AS [C1], N'I' AS [C2], [Project10].[person_id] AS [person_id], [Project10].[first_name] AS [first_name], [Project10].[last_name] AS [last_name], [Project10].[middle_name] AS [middle_name], [Project10].[enterprise_id] AS [enterprise_id], [Project10].[practice_id] AS [practice_id], [Project10].[practice_name] AS [practice_name], [Project10].[enc_id] AS [enc_id], CAST( [Project10].[enc_timestamp] AS datetime2) AS [C3], [Project10].[enc_timestamp_tz] AS [enc_timestamp_tz], [Project10].[image_id] AS [image_id], [Project10].[image_desc] AS [image_desc], [Project10].[image_file] AS [image_file], CAST(NULL AS varchar(1)) AS [C4], N'IMG' AS [C5], [Project10].[created_by] AS [created_by], [Project10].[create_timestamp] AS [create_timestamp], [Project10].[create_timestamp_tz] AS [create_timestamp_tz], [Project10].[modified_by] AS [modified_by], [Project10].[modify_timestamp] AS [modify_timestamp], [Project10].[modify_timestamp_tz] AS [modify_timestamp_tz], CAST(NULL AS varchar(1)) AS [C6], 0 AS [C7], [Project10].[paq_provider_id] AS [paq_provider_id], [Project10].[signoff_status] AS [signoff_status], CAST(NULL AS uniqueidentifier) AS [C8], CAST(NULL AS varchar(1)) AS [C9], [Project10].[rendering_provider_id] AS [rendering_provider_id], CAST(NULL AS uniqueidentifier) AS [C10], [Project10].[C1] AS [C11], CAST(NULL AS varchar(1)) AS [C12], [Project10].[privacy_level] AS [privacy_level], [Project10].[incl_ind] AS [incl_ind], [Project10].[excl_ind] AS [excl_ind] FROM ( SELECT [Project8].[enc_id] AS [enc_id], [Project8].[enterprise_id] AS [enterprise_id], [Project8].[practice_id] AS [practice_id], [Project8].[person_id] AS [person_id], [Project8].[enc_timestamp] AS [enc_timestamp], [Project8].[enc_timestamp_tz] AS [enc_timestamp_tz], [Project8].[rendering_provider_id] AS [rendering_provider_id], [Project8].[image_id] AS [image_id], [Project8].[image_desc] AS [image_desc], [Project8].[image_file] AS [image_file], [Project8].[created_by] AS [created_by], [Project8].[create_timestamp] AS [create_timestamp], [Project8].[create_timestamp_tz] AS [create_timestamp_tz], [Project8].[modified_by] AS [modified_by], [Project8].[modify_timestamp] AS [modify_timestamp], [Project8].[modify_timestamp_tz] AS [modify_timestamp_tz], [Project8].[paq_provider_id] AS [paq_provider_id], [Project8].[signoff_status] AS [signoff_status], [Project8].[first_name] AS [first_name], [Project8].[middle_name] AS [middle_name], [Project8].[last_name] AS [last_name], [Project8].[practice_name] AS [practice_name], CASE WHEN ( EXISTS (SELECT 1 AS [C1] FROM [dbo].[lab_results_obx] AS [Extent22] WHERE ([Extent22].[enterprise_id] = [Project8].[enterprise_id]) AND ([Extent22].[practice_id] = [Project8].[practice_id]) AND ([Extent22].[person_id] = [Project8].[person_id]) AND (N'[{Image}]' = [Extent22].[obs_id]) AND (([Extent22].[observ_value] = (LOWER( CAST( [Project8].[image_id] AS nvarchar(max))))) OR (([Extent22].[observ_value] IS NULL) AND (LOWER( CAST( [Project8].[image_id] AS nvarchar(max))) IS NULL))) AND (N'N' = [Extent22].[delete_ind]) )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1], [Project8].[privacy_level] AS [privacy_level], [Project8].[incl_ind] AS [incl_ind], [Project8].[excl_ind] AS [excl_ind] FROM ( SELECT [Extent16].[enc_id] AS [enc_id], [Extent16].[enterprise_id] AS [enterprise_id], [Extent16].[practice_id] AS [practice_id], [Extent16].[person_id] AS [person_id], [Extent16].[enc_timestamp] AS [enc_timestamp], [Extent16].[enc_timestamp_tz] AS [enc_timestamp_tz], [Extent16].[rendering_provider_id] AS [rendering_provider_id], [Extent17].[image_id] AS [image_id], [Extent17].[image_desc] AS [image_desc], [Extent17].[image_file] AS [image_file], [Extent17].[created_by] AS [created_by], [Extent17].[create_timestamp] AS [create_timestamp], [Extent17].[create_timestamp_tz] AS [create_timestamp_tz], [Extent17].[modified_by] AS [modified_by], [Extent17].[modify_timestamp] AS [modify_timestamp], [Extent17].[modify_timestamp_tz] AS [modify_timestamp_tz], [Extent17].[paq_provider_id] AS [paq_provider_id], [Extent17].[signoff_status] AS [signoff_status], [Extent18].[first_name] AS [first_name], [Extent18].[middle_name] AS [middle_name], [Extent18].[last_name] AS [last_name], [Extent19].[practice_name] AS [practice_name], [Extent20].[privacy_level] AS [privacy_level], [Extent21].[incl_ind] AS [incl_ind], [Extent21].[excl_ind] AS [excl_ind] FROM [dbo].[patient_encounter] AS [Extent16] INNER JOIN [dbo].[patient_images] AS [Extent17] ON ([Extent16].[enc_id] = [Extent17].[enc_id]) AND ([Extent16].[enterprise_id] = [Extent17].[enterprise_id]) AND ([Extent16].[practice_id] = [Extent17].[practice_id]) INNER JOIN [dbo].[person] AS [Extent18] ON [Extent16].[person_id] = [Extent18].[person_id] INNER JOIN [dbo].[practice] AS [Extent19] ON [Extent16].[practice_id] = [Extent19].[practice_id] LEFT OUTER JOIN [dbo].[patient] AS [Extent20] ON ([Extent18].[person_id] = [Extent20].[person_id]) AND ('"+System.getProperty("LoggedInEnterpriseId")+"' = [Extent20].[enterprise_id]) AND ('"+System.getProperty("LoggedInPracticeId")+"' = [Extent20].[practice_id]) LEFT OUTER JOIN [dbo].[user_person_filter] AS [Extent21] ON ([Extent18].[person_id] = [Extent21].[person_id]) AND ('"+System.getProperty("LoggedInUserId")+"' = [Extent21].[user_id]) AND ('"+System.getProperty("LoggedInEnterpriseId")+"' = [Extent21].[enterprise_id]) AND ('"+System.getProperty("LoggedInPracticeId")+"' = [Extent21].[practice_id]) WHERE [Extent17].[signoff_status] IS NOT NULL ) AS [Project8] ) AS [Project10] WHERE ([Project10].[enterprise_id] = '"+System.getProperty("LoggedInEnterpriseId")+"') AND (([Project10].[paq_provider_id] = '"+parameters.get("providerId")+"') OR (([Project10].[paq_provider_id] IS NULL) AND ([Project10].[rendering_provider_id] = '"+parameters.get("providerId")+"')))) AS [UnionAll2] ) AS [Distinct2] UNION ALL SELECT 1 AS [C1], N'S' AS [C2], [Filter10].[person_id3] AS [person_id], [Filter10].[first_name1] AS [first_name], [Filter10].[last_name1] AS [last_name], [Filter10].[middle_name1] AS [middle_name], [Filter10].[enterprise_id2] AS [enterprise_id], [Filter10].[practice_id2] AS [practice_id], [Filter10].[practice_name] AS [practice_name], [Filter10].[enc_id2] AS [enc_id], CAST( [Filter10].[enc_timestamp] AS datetime2) AS [C3], [Filter10].[enc_timestamp_tz] AS [enc_timestamp_tz], [Filter10].[document_id1] AS [document_id], CASE WHEN (([Filter10].[description1] IS NULL) OR ([Filter10].[description1] = '') OR (([Filter10].[description1] IS NULL) AND ('' IS NULL))) THEN [Filter10].[description2] ELSE [Filter10].[description1] END AS [C4], [Filter10].[file_name] AS [file_name], CAST(NULL AS varchar(1)) AS [C5], N'ICS' AS [C6], [Filter10].[created_by2] AS [created_by], [Filter10].[create_timestamp2] AS [create_timestamp], [Filter10].[create_timestamp_tz2] AS [create_timestamp_tz], [Filter10].[modified_by2] AS [modified_by], [Filter10].[modify_timestamp2] AS [modify_timestamp], [Filter10].[modify_timestamp_tz2] AS [modify_timestamp_tz], CAST(NULL AS varchar(1)) AS [C7], 0 AS [C8], [Filter10].[provider_id] AS [provider_id], [Filter10].[signoff_status] AS [signoff_status], [Filter10].[ics_image_id] AS [ics_image_id], CAST(NULL AS varchar(1)) AS [C9], [Filter10].[rendering_provider_id] AS [rendering_provider_id], CAST(NULL AS uniqueidentifier) AS [C10], cast(0 as bit) AS [C11], CAST(NULL AS varchar(1)) AS [C12], [Filter10].[privacy_level] AS [privacy_level], [Extent32].[incl_ind] AS [incl_ind], [Extent32].[excl_ind] AS [excl_ind] FROM (SELECT [Filter9].[document_id1], [Filter9].[ics_image_id], [Filter9].[enterprise_id2], [Filter9].[practice_id2], [Filter9].[person_id4], [Filter9].[enc_id3], [Filter9].[created_by2], [Filter9].[create_timestamp2], [Filter9].[create_timestamp_tz2], [Filter9].[modified_by2], [Filter9].[modify_timestamp2], [Filter9].[modify_timestamp_tz2], [Filter9].[provider_id], [Filter9].[signoff_status], [Filter9].[document_id2], [Filter9].[description1], [Filter9].[description2], [Extent26].[file_name] AS [file_name], [Extent27].[person_id] AS [person_id3], [Extent28].[enc_id] AS [enc_id2], [Extent28].[enc_timestamp] AS [enc_timestamp], [Extent28].[enc_timestamp_tz] AS [enc_timestamp_tz], [Extent28].[rendering_provider_id] AS [rendering_provider_id], [Extent29].[person_id] AS [person_id5], [Extent29].[first_name] AS [first_name1], [Extent29].[middle_name] AS [middle_name1], [Extent29].[last_name] AS [last_name1], [Extent30].[practice_name] AS [practice_name], [Extent31].[privacy_level] AS [privacy_level] FROM (SELECT [Extent23].[document_id] AS [document_id1], [Extent23].[ics_image_id] AS [ics_image_id], [Extent23].[enterprise_id] AS [enterprise_id2], [Extent23].[practice_id] AS [practice_id2], [Extent23].[person_id] AS [person_id4], [Extent23].[enc_id] AS [enc_id3], [Extent23].[created_by] AS [created_by2], [Extent23].[create_timestamp] AS [create_timestamp2], [Extent23].[create_timestamp_tz] AS [create_timestamp_tz2], [Extent23].[modified_by] AS [modified_by2], [Extent23].[modify_timestamp] AS [modify_timestamp2], [Extent23].[modify_timestamp_tz] AS [modify_timestamp_tz2], [Extent23].[provider_id] AS [provider_id], [Extent23].[signoff_status] AS [signoff_status], [Extent24].[document_id] AS [document_id2], [Extent24].[description] AS [description1], [Extent25].[description] AS [description2] FROM [dbo].[patient_ics_images] AS [Extent23] INNER JOIN [dbo].[document] AS [Extent24] ON ([Extent23].[document_id] = [Extent24].[document_id]) AND ([Extent23].[enterprise_id] = [Extent24].[enterprise_id]) AND ([Extent23].[practice_id] = [Extent24].[practice_id]) INNER JOIN [dbo].[doc_type_mstr] AS [Extent25] ON [Extent24].[doc_type_id] = [Extent25].[doc_type_id] WHERE (N'N' = [Extent24].[delete_ind]) AND ([Extent23].[signoff_status] IS NOT NULL) AND (N'N' = [Extent25].[delete_ind]) ) AS [Filter9] INNER JOIN [dbo].[page] AS [Extent26] ON [Filter9].[document_id2] = [Extent26].[document_id] INNER JOIN [dbo].[person] AS [Extent27] ON [Filter9].[person_id4] = [Extent27].[person_id] LEFT OUTER JOIN [dbo].[patient_encounter] AS [Extent28] ON ([Filter9].[enc_id3] = [Extent28].[enc_id]) AND ([Filter9].[practice_id2] = [Extent28].[practice_id]) INNER JOIN [dbo].[person] AS [Extent29] ON [Filter9].[person_id4] = [Extent29].[person_id] INNER JOIN [dbo].[practice] AS [Extent30] ON [Filter9].[practice_id2] = [Extent30].[practice_id] LEFT OUTER JOIN [dbo].[patient] AS [Extent31] ON ([Extent29].[person_id] = [Extent31].[person_id]) AND ('"+System.getProperty("LoggedInEnterpriseId")+"' = [Extent31].[enterprise_id]) AND ('"+System.getProperty("LoggedInPracticeId")+"' = [Extent31].[practice_id]) WHERE 1 = [Extent26].[sequence_nbr] ) AS [Filter10] LEFT OUTER JOIN [dbo].[user_person_filter] AS [Extent32] ON ([Filter10].[person_id5] = [Extent32].[person_id]) AND ('"+System.getProperty("LoggedInUserId")+"' = [Extent32].[user_id]) AND ('"+System.getProperty("LoggedInEnterpriseId")+"' = [Extent32].[enterprise_id]) AND ('"+System.getProperty("LoggedInPracticeId")+"' = [Extent32].[practice_id]) WHERE ([Filter10].[enterprise_id2] = '"+System.getProperty("LoggedInEnterpriseId")+"') AND (([Filter10].[provider_id] = '"+parameters.get("providerId")+"') OR (([Filter10].[provider_id] IS NULL) AND ([Filter10].[rendering_provider_id] = '"+parameters.get("providerId")+"')))) AS [UnionAll3] ) AS [Distinct3] UNION ALL SELECT 1 AS [C1], N'L' AS [C2], [GroupBy1].[K4] AS [person_id], [GroupBy1].[K20] AS [first_name], [GroupBy1].[K22] AS [last_name], [GroupBy1].[K21] AS [middle_name], [GroupBy1].[K2] AS [enterprise_id], [GroupBy1].[K3] AS [practice_id], [GroupBy1].[K23] AS [practice_name], [GroupBy1].[K1] AS [enc_id], CAST( [GroupBy1].[K5] AS datetime2) AS [C3], [GroupBy1].[K6] AS [enc_timestamp_tz], [GroupBy1].[K8] AS [order_num], CASE WHEN ([GroupBy1].[K12] IS NULL) THEN CAST(NULL AS varchar(1)) ELSE SUBSTRING([GroupBy1].[K12], 0 + 1, 255) END AS [C4], CAST(NULL AS varchar(1)) AS [C5], CAST(NULL AS varchar(1)) AS [C6], N'LAB' AS [C7], [GroupBy1].[K17] AS [created_by], [GroupBy1].[K13] AS [create_timestamp], [GroupBy1].[K15] AS [create_timestamp_tz], [GroupBy1].[K18] AS [modified_by], [GroupBy1].[K14] AS [modify_timestamp], [GroupBy1].[K16] AS [modify_timestamp_tz], CAST(NULL AS varchar(1)) AS [C8], 0 AS [C9], [GroupBy1].[K9] AS [paq_provider_id], CASE WHEN (N'Assigned' = [GroupBy1].[K11]) THEN N'P' ELSE N'A' END AS [C10], CAST(NULL AS uniqueidentifier) AS [C11], [GroupBy1].[K19] AS [completed_ind], [GroupBy1].[K7] AS [rendering_provider_id], [GroupBy1].[K10] AS [ordering_provider], cast(1 as bit) AS [C12], CASE WHEN ([GroupBy1].[A1] IS NULL) THEN N'' ELSE CAST( [GroupBy1].[A2] AS nvarchar(max)) END AS [C13], [GroupBy1].[K24] AS [privacy_level], [GroupBy1].[K25] AS [incl_ind], [GroupBy1].[K26] AS [excl_ind] FROM ( SELECT [Filter12].[K1] AS [K1], [Filter12].[K2] AS [K2], [Filter12].[K3] AS [K3], [Filter12].[K4] AS [K4], [Filter12].[K5] AS [K5], [Filter12].[K6] AS [K6], [Filter12].[K7] AS [K7], [Filter12].[K8] AS [K8], [Filter12].[K9] AS [K9], [Filter12].[K10] AS [K10], [Filter12].[K11] AS [K11], [Filter12].[K12] AS [K12], [Filter12].[K13] AS [K13], [Filter12].[K14] AS [K14], [Filter12].[K15] AS [K15], [Filter12].[K16] AS [K16], [Filter12].[K17] AS [K17], [Filter12].[K18] AS [K18], [Filter12].[K19] AS [K19], [Filter12].[K20] AS [K20], [Filter12].[K21] AS [K21], [Filter12].[K22] AS [K22], [Filter12].[K23] AS [K23], [Filter12].[K24] AS [K24], [Filter12].[K25] AS [K25], [Filter12].[K26] AS [K26], MAX([Filter12].[A1]) AS [A1], MAX([Filter12].[A2]) AS [A2] FROM ( SELECT [Extent33].[enc_id] AS [K1], [Extent33].[enterprise_id] AS [K2], [Extent33].[practice_id] AS [K3], [Extent33].[person_id] AS [K4], [Extent33].[enc_timestamp] AS [K5], [Extent33].[enc_timestamp_tz] AS [K6], [Extent33].[rendering_provider_id] AS [K7], [Extent34].[order_num] AS [K8], [Extent34].[paq_provider_id] AS [K9], [Extent34].[ordering_provider] AS [K10], [Extent34].[ngn_status] AS [K11], [Extent34].[test_desc] AS [K12], [Extent34].[create_timestamp] AS [K13], [Extent34].[modify_timestamp] AS [K14], [Extent34].[create_timestamp_tz] AS [K15], [Extent34].[modify_timestamp_tz] AS [K16], [Extent34].[created_by] AS [K17], [Extent34].[modified_by] AS [K18], [Extent34].[completed_ind] AS [K19], [Extent38].[first_name] AS [K20], [Extent38].[middle_name] AS [K21], [Extent38].[last_name] AS [K22], [Extent39].[practice_name] AS [K23], [Extent40].[privacy_level] AS [K24], [Extent41].[incl_ind] AS [K25], [Extent41].[excl_ind] AS [K26], CASE WHEN ([Extent37].[abnorm_flag] IS NULL) THEN 1 ELSE [Extent37].[precedence] END AS [A1], CASE WHEN ([Extent37].[abnorm_flag] IS NULL) THEN 1 ELSE [Extent37].[precedence] END AS [A2] FROM [dbo].[patient_encounter] AS [Extent33] INNER JOIN [dbo].[lab_nor] AS [Extent34] ON ([Extent33].[enc_id] = [Extent34].[enc_id]) AND ([Extent33].[practice_id] = [Extent34].[practice_id]) AND ([Extent33].[enterprise_id] = [Extent34].[enterprise_id]) LEFT OUTER JOIN [dbo].[lab_results_obr_p] AS [Extent35] ON [Extent34].[order_num] = [Extent35].[ngn_order_num] LEFT OUTER JOIN [dbo].[lab_results_obx] AS [Extent36] ON [Extent35].[unique_obr_num] = [Extent36].[unique_obr_num] LEFT OUTER JOIN [dbo].[paq_lab_flags] AS [Extent37] ON [Extent36].[abnorm_flags] = [Extent37].[abnorm_flag] INNER JOIN [dbo].[person] AS [Extent38] ON [Extent33].[person_id] = [Extent38].[person_id] INNER JOIN [dbo].[practice] AS [Extent39] ON [Extent33].[practice_id] = [Extent39].[practice_id] LEFT OUTER JOIN [dbo].[patient] AS [Extent40] ON ([Extent38].[person_id] = [Extent40].[person_id]) AND ('"+System.getProperty("LoggedInEnterpriseId")+"' = [Extent40].[enterprise_id]) AND ('"+System.getProperty("LoggedInPracticeId")+"' = [Extent40].[practice_id]) LEFT OUTER JOIN [dbo].[user_person_filter] AS [Extent41] ON ([Extent38].[person_id] = [Extent41].[person_id]) AND ('"+System.getProperty("LoggedInUserId")+"' = [Extent41].[user_id]) AND ('"+System.getProperty("LoggedInEnterpriseId")+"' = [Extent41].[enterprise_id]) AND ('"+System.getProperty("LoggedInPracticeId")+"' = [Extent41].[practice_id]) WHERE ([Extent34].[ngn_status] IN (N'Assigned',N'Signed-Off')) AND (N'L' = [Extent34].[order_type]) AND (N'N' = [Extent34].[delete_ind]) ) AS [Filter12] GROUP BY [K1], [K2], [K3], [K4], [K5], [K6], [K7], [K8], [K9], [K10], [K11], [K12], [K13], [K14], [K15], [K16], [K17], [K18], [K19], [K20], [K21], [K22], [K23], [K24], [K25], [K26] ) AS [GroupBy1] WHERE ([GroupBy1].[K2] = '"+System.getProperty("LoggedInEnterpriseId")+"') AND ((([GroupBy1].[K9] IS NOT NULL) AND ([GroupBy1].[K9] = '"+parameters.get("providerId")+"')) OR (([GroupBy1].[K9] IS NULL) AND ([GroupBy1].[K7] = '"+parameters.get("providerId")+"')))) AS [UnionAll4] ) AS [Distinct4] WHERE [Distinct4].[C13] = '"+parameters.get("itemId")+"'";
				}
				else
				{
					strQuery="SELECT TOP (2) [Distinct4].[C13] AS itemId, [Distinct4].[C28] AS secondaryId, case when [Distinct4].[C2] = 'I' then 'Image' when [Distinct4].[C2] = 'L' then 'Order' when [Distinct4].[C2] = 'D' then 'Document' when [Distinct4].[C2] = 'S' then 'IcsImage' end AS type, [Distinct4].[C14] AS description, [Distinct4].[C16] AS name, [Distinct4].[C15] AS fileName, [Distinct4].[C17] AS format, case when [Distinct4].[C27] = 'P' then 'Pending' WHEN [Distinct4].[C27] = 'A' THEN 'SignedOff' WHEN [Distinct4].[C27] = 'R' THEN 'Rejected' end AS signoffStatus, null AS signoffDescription, [Distinct4].[C8] AS practiceId, [Distinct4].[C9] AS practiceName, [Distinct4].[C30] AS providerId, [Distinct4].[C10] AS encounterId, [Distinct4].[C11]  AS encounterTimestamp, [Distinct4].[C12] AS encounterTimestampTimezone, [Distinct4].[C3] AS personId, [Distinct4].[C4] AS firstName, [Distinct4].[C5] AS lastName, [Distinct4].[C6] AS middleName, [Distinct4].[C24] AS appCreatedBy, [Distinct4].[C18] AS createdBy, [Distinct4].[C19]  AS createTimestamp, [Distinct4].[C20] AS createTimestampTimezone, [Distinct4].[C21] AS modifiedBy, [Distinct4].[C22]  AS modifyTimestamp, [Distinct4].[C23] AS modifyTimestampTimezone, case when [Distinct4].[C29] = 'Y' then 'true' when [Distinct4].[C29] = 'N' then 'false' else [Distinct4].[C29] end AS isCompleted, cast([Distinct4].[C33] as varchar) AS labPrecedence FROM ( SELECT DISTINCT [UnionAll4].[C1] AS [C1], [UnionAll4].[C2] AS [C2], [UnionAll4].[C3] AS [C3], [UnionAll4].[C4] AS [C4], [UnionAll4].[C5] AS [C5], [UnionAll4].[C6] AS [C6], [UnionAll4].[C7] AS [C7], [UnionAll4].[C8] AS [C8], [UnionAll4].[C9] AS [C9], [UnionAll4].[C10] AS [C10], [UnionAll4].[C11] AS [C11], [UnionAll4].[C12] AS [C12], [UnionAll4].[C13] AS [C13], [UnionAll4].[C14] AS [C14], [UnionAll4].[C15] AS [C15], [UnionAll4].[C16] AS [C16], [UnionAll4].[C17] AS [C17], [UnionAll4].[C18] AS [C18], [UnionAll4].[C19] AS [C19], [UnionAll4].[C20] AS [C20], [UnionAll4].[C21] AS [C21], [UnionAll4].[C22] AS [C22], [UnionAll4].[C23] AS [C23], [UnionAll4].[C24] AS [C24], [UnionAll4].[C25] AS [C25], [UnionAll4].[C26] AS [C26], [UnionAll4].[C27] AS [C27], [UnionAll4].[C28] AS [C28], [UnionAll4].[C29] AS [C29], [UnionAll4].[C30] AS [C30], [UnionAll4].[C31] AS [C31], [UnionAll4].[C32] AS [C32], [UnionAll4].[C33] AS [C33], [UnionAll4].[C34] AS [C34], [UnionAll4].[C35] AS [C35], [UnionAll4].[C36] AS [C36] FROM (SELECT [Distinct3].[C1] AS [C1], [Distinct3].[C2] AS [C2], [Distinct3].[C3] AS [C3], [Distinct3].[C4] AS [C4], [Distinct3].[C5] AS [C5], [Distinct3].[C6] AS [C6], [Distinct3].[C7] AS [C7], [Distinct3].[C8] AS [C8], [Distinct3].[C9] AS [C9], [Distinct3].[C10] AS [C10], [Distinct3].[C11] AS [C11], [Distinct3].[C12] AS [C12], [Distinct3].[C13] AS [C13], [Distinct3].[C14] AS [C14], [Distinct3].[C15] AS [C15], [Distinct3].[C16] AS [C16], [Distinct3].[C17] AS [C17], [Distinct3].[C18] AS [C18], [Distinct3].[C19] AS [C19], [Distinct3].[C20] AS [C20], [Distinct3].[C21] AS [C21], [Distinct3].[C22] AS [C22], [Distinct3].[C23] AS [C23], [Distinct3].[C24] AS [C24], [Distinct3].[C25] AS [C25], [Distinct3].[C26] AS [C26], [Distinct3].[C27] AS [C27], [Distinct3].[C28] AS [C28], [Distinct3].[C29] AS [C29], [Distinct3].[C30] AS [C30], [Distinct3].[C31] AS [C31], [Distinct3].[C32] AS [C32], [Distinct3].[C33] AS [C33], [Distinct3].[C34] AS [C34], [Distinct3].[C35] AS [C35], [Distinct3].[C36] AS [C36] FROM ( SELECT DISTINCT [UnionAll3].[C1] AS [C1], [UnionAll3].[C2] AS [C2], [UnionAll3].[C3] AS [C3], [UnionAll3].[C4] AS [C4], [UnionAll3].[C5] AS [C5], [UnionAll3].[C6] AS [C6], [UnionAll3].[C7] AS [C7], [UnionAll3].[C8] AS [C8], [UnionAll3].[C9] AS [C9], [UnionAll3].[C10] AS [C10], [UnionAll3].[C11] AS [C11], [UnionAll3].[C12] AS [C12], [UnionAll3].[C13] AS [C13], [UnionAll3].[C14] AS [C14], [UnionAll3].[C15] AS [C15], [UnionAll3].[C16] AS [C16], [UnionAll3].[C17] AS [C17], [UnionAll3].[C18] AS [C18], [UnionAll3].[C19] AS [C19], [UnionAll3].[C20] AS [C20], [UnionAll3].[C21] AS [C21], [UnionAll3].[C22] AS [C22], [UnionAll3].[C23] AS [C23], [UnionAll3].[C24] AS [C24], [UnionAll3].[C25] AS [C25], [UnionAll3].[C26] AS [C26], [UnionAll3].[C27] AS [C27], [UnionAll3].[C28] AS [C28], [UnionAll3].[C29] AS [C29], [UnionAll3].[C30] AS [C30], [UnionAll3].[C31] AS [C31], [UnionAll3].[C32] AS [C32], [UnionAll3].[C33] AS [C33], [UnionAll3].[C34] AS [C34], [UnionAll3].[C35] AS [C35], [UnionAll3].[C36] AS [C36] FROM (SELECT [Distinct2].[C1] AS [C1], [Distinct2].[C2] AS [C2], [Distinct2].[C3] AS [C3], [Distinct2].[C4] AS [C4], [Distinct2].[C5] AS [C5], [Distinct2].[C6] AS [C6], [Distinct2].[C7] AS [C7], [Distinct2].[C8] AS [C8], [Distinct2].[C9] AS [C9], [Distinct2].[C10] AS [C10], [Distinct2].[C11] AS [C11], [Distinct2].[C12] AS [C12], [Distinct2].[C13] AS [C13], [Distinct2].[C14] AS [C14], [Distinct2].[C15] AS [C15], [Distinct2].[C16] AS [C16], [Distinct2].[C17] AS [C17], [Distinct2].[C18] AS [C18], [Distinct2].[C19] AS [C19], [Distinct2].[C20] AS [C20], [Distinct2].[C21] AS [C21], [Distinct2].[C22] AS [C22], [Distinct2].[C23] AS [C23], [Distinct2].[C24] AS [C24], [Distinct2].[C25] AS [C25], [Distinct2].[C26] AS [C26], [Distinct2].[C27] AS [C27], [Distinct2].[C28] AS [C28], [Distinct2].[C29] AS [C29], [Distinct2].[C30] AS [C30], [Distinct2].[C31] AS [C31], [Distinct2].[C32] AS [C32], [Distinct2].[C33] AS [C33], [Distinct2].[C34] AS [C34], [Distinct2].[C35] AS [C35], [Distinct2].[C36] AS [C36] FROM ( SELECT DISTINCT [UnionAll2].[C1] AS [C1], [UnionAll2].[C2] AS [C2], [UnionAll2].[C3] AS [C3], [UnionAll2].[C4] AS [C4], [UnionAll2].[C5] AS [C5], [UnionAll2].[C6] AS [C6], [UnionAll2].[C7] AS [C7], [UnionAll2].[C8] AS [C8], [UnionAll2].[C9] AS [C9], [UnionAll2].[C10] AS [C10], [UnionAll2].[C11] AS [C11], [UnionAll2].[C12] AS [C12], [UnionAll2].[C13] AS [C13], [UnionAll2].[C14] AS [C14], [UnionAll2].[C15] AS [C15], [UnionAll2].[C16] AS [C16], [UnionAll2].[C17] AS [C17], [UnionAll2].[C18] AS [C18], [UnionAll2].[C19] AS [C19], [UnionAll2].[C20] AS [C20], [UnionAll2].[C21] AS [C21], [UnionAll2].[C22] AS [C22], [UnionAll2].[C23] AS [C23], [UnionAll2].[C24] AS [C24], [UnionAll2].[C25] AS [C25], [UnionAll2].[C26] AS [C26], [UnionAll2].[C27] AS [C27], [UnionAll2].[C28] AS [C28], [UnionAll2].[C29] AS [C29], [UnionAll2].[C30] AS [C30], [UnionAll2].[C31] AS [C31], [UnionAll2].[C32] AS [C32], [UnionAll2].[C33] AS [C33], [UnionAll2].[C34] AS [C34], [UnionAll2].[C35] AS [C35], [UnionAll2].[C36] AS [C36] FROM (SELECT [Distinct1].[C1] AS [C1], [Distinct1].[C2] AS [C2], [Distinct1].[C3] AS [C3], [Distinct1].[C4] AS [C4], [Distinct1].[C5] AS [C5], [Distinct1].[C6] AS [C6], [Distinct1].[C7] AS [C7], [Distinct1].[C8] AS [C8], [Distinct1].[C9] AS [C9], [Distinct1].[C10] AS [C10], [Distinct1].[C11] AS [C11], [Distinct1].[C12] AS [C12], [Distinct1].[C13] AS [C13], [Distinct1].[C14] AS [C14], [Distinct1].[C15] AS [C15], [Distinct1].[C16] AS [C16], [Distinct1].[C17] AS [C17], [Distinct1].[C18] AS [C18], [Distinct1].[C19] AS [C19], [Distinct1].[C20] AS [C20], [Distinct1].[C21] AS [C21], [Distinct1].[C22] AS [C22], [Distinct1].[C23] AS [C23], [Distinct1].[C24] AS [C24], [Distinct1].[C25] AS [C25], [Distinct1].[C26] AS [C26], [Distinct1].[C27] AS [C27], [Distinct1].[C28] AS [C28], [Distinct1].[C29] AS [C29], [Distinct1].[C30] AS [C30], [Distinct1].[C31] AS [C31], [Distinct1].[C32] AS [C32], [Distinct1].[C33] AS [C33], [Distinct1].[C34] AS [C34], [Distinct1].[C35] AS [C35], [Distinct1].[C36] AS [C36] FROM ( SELECT DISTINCT [UnionAll1].[C1] AS [C1], [UnionAll1].[C2] AS [C2], [UnionAll1].[person_id] AS [C3], [UnionAll1].[first_name] AS [C4], [UnionAll1].[last_name] AS [C5], [UnionAll1].[middle_name] AS [C6], [UnionAll1].[enterprise_id] AS [C7], [UnionAll1].[practice_id] AS [C8], [UnionAll1].[practice_name] AS [C9], [UnionAll1].[enc_id] AS [C10], [UnionAll1].[C3] AS [C11], [UnionAll1].[enc_timestamp_tz] AS [C12], [UnionAll1].[document_id] AS [C13], [UnionAll1].[document_desc] AS [C14], [UnionAll1].[document_file] AS [C15], [UnionAll1].[C4] AS [C16], [UnionAll1].[file_format] AS [C17], [UnionAll1].[created_by] AS [C18], [UnionAll1].[create_timestamp] AS [C19], [UnionAll1].[create_timestamp_tz] AS [C20], [UnionAll1].[modified_by] AS [C21], [UnionAll1].[modify_timestamp] AS [C22], [UnionAll1].[modify_timestamp_tz] AS [C23], [UnionAll1].[app_created_by] AS [C24], [UnionAll1].[perm_pos] AS [C25], [UnionAll1].[paq_provider_id] AS [C26], [UnionAll1].[signoff_status] AS [C27], [UnionAll1].[C5] AS [C28], [UnionAll1].[C6] AS [C29], [UnionAll1].[rendering_provider_id] AS [C30], [UnionAll1].[C7] AS [C31], [UnionAll1].[C8] AS [C32], [UnionAll1].[C9] AS [C33], [UnionAll1].[privacy_level] AS [C34], [UnionAll1].[incl_ind] AS [C35], [UnionAll1].[excl_ind] AS [C36] FROM (SELECT 1 AS [C1], N'D' AS [C2], [Project3].[person_id] AS [person_id], [Project3].[first_name] AS [first_name], [Project3].[last_name] AS [last_name], [Project3].[middle_name] AS [middle_name], [Project3].[enterprise_id] AS [enterprise_id], [Project3].[practice_id] AS [practice_id], [Project3].[practice_name] AS [practice_name], [Project3].[enc_id] AS [enc_id], CAST( [Project3].[enc_timestamp] AS datetime2) AS [C3], [Project3].[enc_timestamp_tz] AS [enc_timestamp_tz], [Project3].[document_id] AS [document_id], [Project3].[document_desc] AS [document_desc], [Project3].[document_file] AS [document_file], CAST(NULL AS varchar(1)) AS [C4], [Project3].[file_format] AS [file_format], [Project3].[created_by] AS [created_by], [Project3].[create_timestamp] AS [create_timestamp], [Project3].[create_timestamp_tz] AS [create_timestamp_tz], [Project3].[modified_by] AS [modified_by], [Project3].[modify_timestamp] AS [modify_timestamp], [Project3].[modify_timestamp_tz] AS [modify_timestamp_tz], [Project3].[app_created_by] AS [app_created_by], [Project3].[perm_pos] AS [perm_pos], [Project3].[paq_provider_id] AS [paq_provider_id], [Project3].[signoff_status] AS [signoff_status], CAST(NULL AS uniqueidentifier) AS [C5], CAST(NULL AS varchar(1)) AS [C6], [Project3].[rendering_provider_id] AS [rendering_provider_id], CAST(NULL AS uniqueidentifier) AS [C7], [Project3].[C1] AS [C8], CAST(NULL AS varchar(1)) AS [C9], [Project3].[privacy_level] AS [privacy_level], [Project3].[incl_ind] AS [incl_ind], [Project3].[excl_ind] AS [excl_ind] FROM ( SELECT [Project1].[enc_id] AS [enc_id], [Project1].[enterprise_id] AS [enterprise_id], [Project1].[practice_id] AS [practice_id], [Project1].[person_id] AS [person_id], [Project1].[enc_timestamp] AS [enc_timestamp], [Project1].[enc_timestamp_tz] AS [enc_timestamp_tz], [Project1].[rendering_provider_id] AS [rendering_provider_id], [Project1].[document_id] AS [document_id], [Project1].[document_file] AS [document_file], [Project1].[document_desc] AS [document_desc], [Project1].[file_format] AS [file_format], [Project1].[app_created_by] AS [app_created_by], [Project1].[signoff_status] AS [signoff_status], [Project1].[created_by] AS [created_by], [Project1].[create_timestamp] AS [create_timestamp], [Project1].[create_timestamp_tz] AS [create_timestamp_tz], [Project1].[modified_by] AS [modified_by], [Project1].[modify_timestamp] AS [modify_timestamp], [Project1].[modify_timestamp_tz] AS [modify_timestamp_tz], [Project1].[paq_provider_id] AS [paq_provider_id], [Project1].[first_name] AS [first_name], [Project1].[middle_name] AS [middle_name], [Project1].[last_name] AS [last_name], [Project1].[practice_name] AS [practice_name], CASE WHEN ( EXISTS (SELECT 1 AS [C1] FROM [dbo].[lab_results_obx] AS [Extent8] WHERE ([Extent8].[enterprise_id] = [Project1].[enterprise_id]) AND ([Extent8].[practice_id] = [Project1].[practice_id]) AND ([Extent8].[person_id] = [Project1].[person_id]) AND (N'[{Document}]' = [Extent8].[obs_id]) AND (([Extent8].[observ_value] = (LOWER( CAST( [Project1].[document_id] AS nvarchar(max))))) OR (([Extent8].[observ_value] IS NULL) AND (LOWER( CAST( [Project1].[document_id] AS nvarchar(max))) IS NULL))) AND (N'N' = [Extent8].[delete_ind]) )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1], [Project1].[perm_pos] AS [perm_pos], [Project1].[privacy_level] AS [privacy_level], [Project1].[incl_ind] AS [incl_ind], [Project1].[excl_ind] AS [excl_ind] FROM ( SELECT [Extent1].[enc_id] AS [enc_id], [Extent1].[enterprise_id] AS [enterprise_id], [Extent1].[practice_id] AS [practice_id], [Extent1].[person_id] AS [person_id], [Extent1].[enc_timestamp] AS [enc_timestamp], [Extent1].[enc_timestamp_tz] AS [enc_timestamp_tz], [Extent1].[rendering_provider_id] AS [rendering_provider_id], [Extent2].[document_id] AS [document_id], [Extent2].[document_file] AS [document_file], [Extent2].[document_desc] AS [document_desc], [Extent2].[file_format] AS [file_format], [Extent2].[app_created_by] AS [app_created_by], [Extent2].[signoff_status] AS [signoff_status], [Extent2].[created_by] AS [created_by], [Extent2].[create_timestamp] AS [create_timestamp], [Extent2].[create_timestamp_tz] AS [create_timestamp_tz], [Extent2].[modified_by] AS [modified_by], [Extent2].[modify_timestamp] AS [modify_timestamp], [Extent2].[modify_timestamp_tz] AS [modify_timestamp_tz], [Extent2].[paq_provider_id] AS [paq_provider_id], [Extent4].[first_name] AS [first_name], [Extent4].[middle_name] AS [middle_name], [Extent4].[last_name] AS [last_name], [Extent5].[practice_name] AS [practice_name], [Extent3].[perm_pos] AS [perm_pos], [Extent6].[privacy_level] AS [privacy_level], [Extent7].[incl_ind] AS [incl_ind], [Extent7].[excl_ind] AS [excl_ind] FROM [dbo].[patient_encounter] AS [Extent1] INNER JOIN [dbo].[patient_documents] AS [Extent2] ON ([Extent1].[enc_id] = [Extent2].[enc_id]) AND ([Extent1].[enterprise_id] = [Extent2].[enterprise_id]) AND ([Extent1].[practice_id] = [Extent2].[practice_id]) LEFT OUTER JOIN [dbo].[security_items] AS [Extent3] ON (([Extent2].[document_desc] = [Extent3].[description]) OR (([Extent2].[document_desc] IS NULL) AND ([Extent3].[description] IS NULL))) AND (N'D' = [Extent3].[item_type]) AND (N'N' = [Extent3].[delete_ind]) INNER JOIN [dbo].[person] AS [Extent4] ON [Extent1].[person_id] = [Extent4].[person_id] INNER JOIN [dbo].[practice] AS [Extent5] ON [Extent1].[practice_id] = [Extent5].[practice_id] LEFT OUTER JOIN [dbo].[patient] AS [Extent6] ON ([Extent4].[person_id] = [Extent6].[person_id]) AND ('"+System.getProperty("LoggedInEnterpriseId")+"' = [Extent6].[enterprise_id]) AND ('"+System.getProperty("LoggedInPracticeId")+"' = [Extent6].[practice_id]) LEFT OUTER JOIN [dbo].[user_person_filter] AS [Extent7] ON ([Extent4].[person_id] = [Extent7].[person_id]) AND ('"+System.getProperty("LoggedInUserId")+"' = [Extent7].[user_id]) AND ('"+System.getProperty("LoggedInEnterpriseId")+"' = [Extent7].[enterprise_id]) AND ('"+System.getProperty("LoggedInPracticeId")+"' = [Extent7].[practice_id]) WHERE [Extent2].[signoff_status] IS NOT NULL ) AS [Project1] ) AS [Project3] WHERE ([Project3].[enterprise_id] = '"+System.getProperty("LoggedInEnterpriseId")+"') AND (([Project3].[paq_provider_id] = '"+parameters.get("providerId")+"') OR (([Project3].[paq_provider_id] IS NULL) AND ([Project3].[rendering_provider_id] = '"+parameters.get("providerId")+"'))) UNION ALL SELECT 1 AS [C1], N'N' AS [C2], [Filter4].[person_id1] AS [person_id], [Filter4].[first_name] AS [first_name], [Filter4].[last_name] AS [last_name], [Filter4].[middle_name] AS [middle_name], [Filter4].[enterprise_id1] AS [enterprise_id], [Filter4].[practice_id1] AS [practice_id], [Filter4].[practice_name] AS [practice_name], [Filter4].[enc_id1] AS [enc_id], CAST( [Filter4].[enc_timestamp] AS datetime2) AS [C3], [Filter4].[enc_timestamp_tz] AS [enc_timestamp_tz], [Filter4].[note_id] AS [note_id], CASE WHEN (LTRIM(RTRIM([Filter4].[table_name])) IS NULL) THEN N'' ELSE LTRIM(RTRIM([Filter4].[table_name])) END + N'.' + CASE WHEN (LTRIM(RTRIM([Filter4].[field_name])) IS NULL) THEN N'' ELSE LTRIM(RTRIM([Filter4].[field_name])) END AS [C4], CASE WHEN (LOWER( CAST( [Filter4].[note_id] AS nvarchar(max))) IS NULL) THEN N'' ELSE LOWER( CAST( [Filter4].[note_id] AS nvarchar(max))) END + N'.rtf' AS [C5], CAST(NULL AS varchar(1)) AS [C6], N'RTF' AS [C7], [Filter4].[created_by1] AS [created_by], [Filter4].[create_timestamp1] AS [create_timestamp], [Filter4].[create_timestamp_tz1] AS [create_timestamp_tz], [Filter4].[modified_by1] AS [modified_by], [Filter4].[modify_timestamp1] AS [modify_timestamp], [Filter4].[modify_timestamp_tz1] AS [modify_timestamp_tz], CAST(NULL AS varchar(1)) AS [C8], [Filter4].[perm_pos] AS [perm_pos], [Filter4].[paq_provider_id] AS [paq_provider_id], [Filter4].[signoff_status] AS [signoff_status], CAST(NULL AS uniqueidentifier) AS [C9], CAST(NULL AS varchar(1)) AS [C10], [Filter4].[rendering_provider_id] AS [rendering_provider_id], CAST(NULL AS uniqueidentifier) AS [C11], cast(0 as bit) AS [C12], CAST(NULL AS varchar(1)) AS [C13], [Filter4].[privacy_level] AS [privacy_level], [Extent15].[incl_ind] AS [incl_ind], [Extent15].[excl_ind] AS [excl_ind] FROM (SELECT [Extent9].[enc_id] AS [enc_id1], [Extent9].[enterprise_id] AS [enterprise_id1], [Extent9].[practice_id] AS [practice_id1], [Extent9].[person_id] AS [person_id1], [Extent9].[enc_timestamp] AS [enc_timestamp], [Extent9].[enc_timestamp_tz] AS [enc_timestamp_tz], [Extent9].[rendering_provider_id] AS [rendering_provider_id], [Extent10].[note_id] AS [note_id], [Extent10].[table_name] AS [table_name], [Extent10].[field_name] AS [field_name], [Extent10].[signoff_status] AS [signoff_status], [Extent10].[paq_provider_id] AS [paq_provider_id], [Extent10].[created_by] AS [created_by1], [Extent10].[create_timestamp] AS [create_timestamp1], [Extent10].[create_timestamp_tz] AS [create_timestamp_tz1], [Extent10].[modified_by] AS [modified_by1], [Extent10].[modify_timestamp] AS [modify_timestamp1], [Extent10].[modify_timestamp_tz] AS [modify_timestamp_tz1], [Extent11].[perm_pos] AS [perm_pos], [Extent12].[person_id] AS [person_id2], [Extent12].[first_name] AS [first_name], [Extent12].[middle_name] AS [middle_name], [Extent12].[last_name] AS [last_name], [Extent13].[practice_name] AS [practice_name], [Extent14].[privacy_level] AS [privacy_level] FROM [dbo].[patient_encounter] AS [Extent9] INNER JOIN [dbo].[patient_notes] AS [Extent10] ON ([Extent9].[enc_id] = [Extent10].[enc_id]) AND ([Extent9].[enterprise_id] = [Extent10].[enterprise_id]) AND ([Extent9].[practice_id] = [Extent10].[practice_id]) LEFT OUTER JOIN [dbo].[templates] AS [Extent11] ON ((SUBSTRING([Extent10].[table_name], 0 + 1, (LEN([Extent10].[table_name])) - 1)) = [Extent11].[template_name]) OR ((SUBSTRING([Extent10].[table_name], 0 + 1, (LEN([Extent10].[table_name])) - 1) IS NULL) AND ([Extent11].[template_name] IS NULL)) INNER JOIN [dbo].[person] AS [Extent12] ON [Extent9].[person_id] = [Extent12].[person_id] INNER JOIN [dbo].[practice] AS [Extent13] ON [Extent9].[practice_id] = [Extent13].[practice_id] LEFT OUTER JOIN [dbo].[patient] AS [Extent14] ON ([Extent12].[person_id] = [Extent14].[person_id]) AND ('"+System.getProperty("LoggedInEnterpriseId")+"' = [Extent14].[enterprise_id]) AND ('"+System.getProperty("LoggedInPracticeId")+"' = [Extent14].[practice_id]) WHERE [Extent10].[signoff_status] IS NOT NULL ) AS [Filter4] LEFT OUTER JOIN [dbo].[user_person_filter] AS [Extent15] ON ([Filter4].[person_id2] = [Extent15].[person_id]) AND ('"+System.getProperty("LoggedInUserId")+"' = [Extent15].[user_id]) AND ('"+System.getProperty("LoggedInEnterpriseId")+"' = [Extent15].[enterprise_id]) AND ('"+System.getProperty("LoggedInPracticeId")+"' = [Extent15].[practice_id]) WHERE ([Filter4].[enterprise_id1] = '"+System.getProperty("LoggedInEnterpriseId")+"') AND (([Filter4].[paq_provider_id] = '"+parameters.get("providerId")+"') OR (([Filter4].[paq_provider_id] IS NULL) AND ([Filter4].[rendering_provider_id] = '"+parameters.get("providerId")+"')))) AS [UnionAll1] ) AS [Distinct1] UNION ALL SELECT 1 AS [C1], N'I' AS [C2], [Project10].[person_id] AS [person_id], [Project10].[first_name] AS [first_name], [Project10].[last_name] AS [last_name], [Project10].[middle_name] AS [middle_name], [Project10].[enterprise_id] AS [enterprise_id], [Project10].[practice_id] AS [practice_id], [Project10].[practice_name] AS [practice_name], [Project10].[enc_id] AS [enc_id], CAST( [Project10].[enc_timestamp] AS datetime2) AS [C3], [Project10].[enc_timestamp_tz] AS [enc_timestamp_tz], [Project10].[image_id] AS [image_id], [Project10].[image_desc] AS [image_desc], [Project10].[image_file] AS [image_file], CAST(NULL AS varchar(1)) AS [C4], N'IMG' AS [C5], [Project10].[created_by] AS [created_by], [Project10].[create_timestamp] AS [create_timestamp], [Project10].[create_timestamp_tz] AS [create_timestamp_tz], [Project10].[modified_by] AS [modified_by], [Project10].[modify_timestamp] AS [modify_timestamp], [Project10].[modify_timestamp_tz] AS [modify_timestamp_tz], CAST(NULL AS varchar(1)) AS [C6], 0 AS [C7], [Project10].[paq_provider_id] AS [paq_provider_id], [Project10].[signoff_status] AS [signoff_status], CAST(NULL AS uniqueidentifier) AS [C8], CAST(NULL AS varchar(1)) AS [C9], [Project10].[rendering_provider_id] AS [rendering_provider_id], CAST(NULL AS uniqueidentifier) AS [C10], [Project10].[C1] AS [C11], CAST(NULL AS varchar(1)) AS [C12], [Project10].[privacy_level] AS [privacy_level], [Project10].[incl_ind] AS [incl_ind], [Project10].[excl_ind] AS [excl_ind] FROM ( SELECT [Project8].[enc_id] AS [enc_id], [Project8].[enterprise_id] AS [enterprise_id], [Project8].[practice_id] AS [practice_id], [Project8].[person_id] AS [person_id], [Project8].[enc_timestamp] AS [enc_timestamp], [Project8].[enc_timestamp_tz] AS [enc_timestamp_tz], [Project8].[rendering_provider_id] AS [rendering_provider_id], [Project8].[image_id] AS [image_id], [Project8].[image_desc] AS [image_desc], [Project8].[image_file] AS [image_file], [Project8].[created_by] AS [created_by], [Project8].[create_timestamp] AS [create_timestamp], [Project8].[create_timestamp_tz] AS [create_timestamp_tz], [Project8].[modified_by] AS [modified_by], [Project8].[modify_timestamp] AS [modify_timestamp], [Project8].[modify_timestamp_tz] AS [modify_timestamp_tz], [Project8].[paq_provider_id] AS [paq_provider_id], [Project8].[signoff_status] AS [signoff_status], [Project8].[first_name] AS [first_name], [Project8].[middle_name] AS [middle_name], [Project8].[last_name] AS [last_name], [Project8].[practice_name] AS [practice_name], CASE WHEN ( EXISTS (SELECT 1 AS [C1] FROM [dbo].[lab_results_obx] AS [Extent22] WHERE ([Extent22].[enterprise_id] = [Project8].[enterprise_id]) AND ([Extent22].[practice_id] = [Project8].[practice_id]) AND ([Extent22].[person_id] = [Project8].[person_id]) AND (N'[{Image}]' = [Extent22].[obs_id]) AND (([Extent22].[observ_value] = (LOWER( CAST( [Project8].[image_id] AS nvarchar(max))))) OR (([Extent22].[observ_value] IS NULL) AND (LOWER( CAST( [Project8].[image_id] AS nvarchar(max))) IS NULL))) AND (N'N' = [Extent22].[delete_ind]) )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1], [Project8].[privacy_level] AS [privacy_level], [Project8].[incl_ind] AS [incl_ind], [Project8].[excl_ind] AS [excl_ind] FROM ( SELECT [Extent16].[enc_id] AS [enc_id], [Extent16].[enterprise_id] AS [enterprise_id], [Extent16].[practice_id] AS [practice_id], [Extent16].[person_id] AS [person_id], [Extent16].[enc_timestamp] AS [enc_timestamp], [Extent16].[enc_timestamp_tz] AS [enc_timestamp_tz], [Extent16].[rendering_provider_id] AS [rendering_provider_id], [Extent17].[image_id] AS [image_id], [Extent17].[image_desc] AS [image_desc], [Extent17].[image_file] AS [image_file], [Extent17].[created_by] AS [created_by], [Extent17].[create_timestamp] AS [create_timestamp], [Extent17].[create_timestamp_tz] AS [create_timestamp_tz], [Extent17].[modified_by] AS [modified_by], [Extent17].[modify_timestamp] AS [modify_timestamp], [Extent17].[modify_timestamp_tz] AS [modify_timestamp_tz], [Extent17].[paq_provider_id] AS [paq_provider_id], [Extent17].[signoff_status] AS [signoff_status], [Extent18].[first_name] AS [first_name], [Extent18].[middle_name] AS [middle_name], [Extent18].[last_name] AS [last_name], [Extent19].[practice_name] AS [practice_name], [Extent20].[privacy_level] AS [privacy_level], [Extent21].[incl_ind] AS [incl_ind], [Extent21].[excl_ind] AS [excl_ind] FROM [dbo].[patient_encounter] AS [Extent16] INNER JOIN [dbo].[patient_images] AS [Extent17] ON ([Extent16].[enc_id] = [Extent17].[enc_id]) AND ([Extent16].[enterprise_id] = [Extent17].[enterprise_id]) AND ([Extent16].[practice_id] = [Extent17].[practice_id]) INNER JOIN [dbo].[person] AS [Extent18] ON [Extent16].[person_id] = [Extent18].[person_id] INNER JOIN [dbo].[practice] AS [Extent19] ON [Extent16].[practice_id] = [Extent19].[practice_id] LEFT OUTER JOIN [dbo].[patient] AS [Extent20] ON ([Extent18].[person_id] = [Extent20].[person_id]) AND ('"+System.getProperty("LoggedInEnterpriseId")+"' = [Extent20].[enterprise_id]) AND ('"+System.getProperty("LoggedInPracticeId")+"' = [Extent20].[practice_id]) LEFT OUTER JOIN [dbo].[user_person_filter] AS [Extent21] ON ([Extent18].[person_id] = [Extent21].[person_id]) AND ('"+System.getProperty("LoggedInUserId")+"' = [Extent21].[user_id]) AND ('"+System.getProperty("LoggedInEnterpriseId")+"' = [Extent21].[enterprise_id]) AND ('"+System.getProperty("LoggedInPracticeId")+"' = [Extent21].[practice_id]) WHERE [Extent17].[signoff_status] IS NOT NULL ) AS [Project8] ) AS [Project10] WHERE ([Project10].[enterprise_id] = '"+System.getProperty("LoggedInEnterpriseId")+"') AND (([Project10].[paq_provider_id] = '"+parameters.get("providerId")+"') OR (([Project10].[paq_provider_id] IS NULL) AND ([Project10].[rendering_provider_id] = '"+parameters.get("providerId")+"')))) AS [UnionAll2] ) AS [Distinct2] UNION ALL SELECT 1 AS [C1], N'S' AS [C2], [Filter10].[person_id3] AS [person_id], [Filter10].[first_name1] AS [first_name], [Filter10].[last_name1] AS [last_name], [Filter10].[middle_name1] AS [middle_name], [Filter10].[enterprise_id2] AS [enterprise_id], [Filter10].[practice_id2] AS [practice_id], [Filter10].[practice_name] AS [practice_name], [Filter10].[enc_id2] AS [enc_id], CAST( [Filter10].[enc_timestamp] AS datetime2) AS [C3], [Filter10].[enc_timestamp_tz] AS [enc_timestamp_tz], [Filter10].[document_id1] AS [document_id], CASE WHEN (([Filter10].[description1] IS NULL) OR ([Filter10].[description1] = '') OR (([Filter10].[description1] IS NULL) AND ('' IS NULL))) THEN [Filter10].[description2] ELSE [Filter10].[description1] END AS [C4], [Filter10].[file_name] AS [file_name], CAST(NULL AS varchar(1)) AS [C5], N'ICS' AS [C6], [Filter10].[created_by2] AS [created_by], [Filter10].[create_timestamp2] AS [create_timestamp], [Filter10].[create_timestamp_tz2] AS [create_timestamp_tz], [Filter10].[modified_by2] AS [modified_by], [Filter10].[modify_timestamp2] AS [modify_timestamp], [Filter10].[modify_timestamp_tz2] AS [modify_timestamp_tz], CAST(NULL AS varchar(1)) AS [C7], 0 AS [C8], [Filter10].[provider_id] AS [provider_id], [Filter10].[signoff_status] AS [signoff_status], [Filter10].[ics_image_id] AS [ics_image_id], CAST(NULL AS varchar(1)) AS [C9], [Filter10].[rendering_provider_id] AS [rendering_provider_id], CAST(NULL AS uniqueidentifier) AS [C10], cast(0 as bit) AS [C11], CAST(NULL AS varchar(1)) AS [C12], [Filter10].[privacy_level] AS [privacy_level], [Extent32].[incl_ind] AS [incl_ind], [Extent32].[excl_ind] AS [excl_ind] FROM (SELECT [Filter9].[document_id1], [Filter9].[ics_image_id], [Filter9].[enterprise_id2], [Filter9].[practice_id2], [Filter9].[person_id4], [Filter9].[enc_id3], [Filter9].[created_by2], [Filter9].[create_timestamp2], [Filter9].[create_timestamp_tz2], [Filter9].[modified_by2], [Filter9].[modify_timestamp2], [Filter9].[modify_timestamp_tz2], [Filter9].[provider_id], [Filter9].[signoff_status], [Filter9].[document_id2], [Filter9].[description1], [Filter9].[description2], [Extent26].[file_name] AS [file_name], [Extent27].[person_id] AS [person_id3], [Extent28].[enc_id] AS [enc_id2], [Extent28].[enc_timestamp] AS [enc_timestamp], [Extent28].[enc_timestamp_tz] AS [enc_timestamp_tz], [Extent28].[rendering_provider_id] AS [rendering_provider_id], [Extent29].[person_id] AS [person_id5], [Extent29].[first_name] AS [first_name1], [Extent29].[middle_name] AS [middle_name1], [Extent29].[last_name] AS [last_name1], [Extent30].[practice_name] AS [practice_name], [Extent31].[privacy_level] AS [privacy_level] FROM (SELECT [Extent23].[document_id] AS [document_id1], [Extent23].[ics_image_id] AS [ics_image_id], [Extent23].[enterprise_id] AS [enterprise_id2], [Extent23].[practice_id] AS [practice_id2], [Extent23].[person_id] AS [person_id4], [Extent23].[enc_id] AS [enc_id3], [Extent23].[created_by] AS [created_by2], [Extent23].[create_timestamp] AS [create_timestamp2], [Extent23].[create_timestamp_tz] AS [create_timestamp_tz2], [Extent23].[modified_by] AS [modified_by2], [Extent23].[modify_timestamp] AS [modify_timestamp2], [Extent23].[modify_timestamp_tz] AS [modify_timestamp_tz2], [Extent23].[provider_id] AS [provider_id], [Extent23].[signoff_status] AS [signoff_status], [Extent24].[document_id] AS [document_id2], [Extent24].[description] AS [description1], [Extent25].[description] AS [description2] FROM [dbo].[patient_ics_images] AS [Extent23] INNER JOIN [dbo].[document] AS [Extent24] ON ([Extent23].[document_id] = [Extent24].[document_id]) AND ([Extent23].[enterprise_id] = [Extent24].[enterprise_id]) AND ([Extent23].[practice_id] = [Extent24].[practice_id]) INNER JOIN [dbo].[doc_type_mstr] AS [Extent25] ON [Extent24].[doc_type_id] = [Extent25].[doc_type_id] WHERE (N'N' = [Extent24].[delete_ind]) AND ([Extent23].[signoff_status] IS NOT NULL) AND (N'N' = [Extent25].[delete_ind]) ) AS [Filter9] INNER JOIN [dbo].[page] AS [Extent26] ON [Filter9].[document_id2] = [Extent26].[document_id] INNER JOIN [dbo].[person] AS [Extent27] ON [Filter9].[person_id4] = [Extent27].[person_id] LEFT OUTER JOIN [dbo].[patient_encounter] AS [Extent28] ON ([Filter9].[enc_id3] = [Extent28].[enc_id]) AND ([Filter9].[practice_id2] = [Extent28].[practice_id]) INNER JOIN [dbo].[person] AS [Extent29] ON [Filter9].[person_id4] = [Extent29].[person_id] INNER JOIN [dbo].[practice] AS [Extent30] ON [Filter9].[practice_id2] = [Extent30].[practice_id] LEFT OUTER JOIN [dbo].[patient] AS [Extent31] ON ([Extent29].[person_id] = [Extent31].[person_id]) AND ('"+System.getProperty("LoggedInEnterpriseId")+"' = [Extent31].[enterprise_id]) AND ('"+System.getProperty("LoggedInPracticeId")+"' = [Extent31].[practice_id]) WHERE 1 = [Extent26].[sequence_nbr] ) AS [Filter10] LEFT OUTER JOIN [dbo].[user_person_filter] AS [Extent32] ON ([Filter10].[person_id5] = [Extent32].[person_id]) AND ('"+System.getProperty("LoggedInUserId")+"' = [Extent32].[user_id]) AND ('"+System.getProperty("LoggedInEnterpriseId")+"' = [Extent32].[enterprise_id]) AND ('"+System.getProperty("LoggedInPracticeId")+"' = [Extent32].[practice_id]) WHERE ([Filter10].[enterprise_id2] = '"+System.getProperty("LoggedInEnterpriseId")+"') AND (([Filter10].[provider_id] = '"+parameters.get("providerId")+"') OR (([Filter10].[provider_id] IS NULL) AND ([Filter10].[rendering_provider_id] = '"+parameters.get("providerId")+"')))) AS [UnionAll3] ) AS [Distinct3] UNION ALL SELECT 1 AS [C1], N'L' AS [C2], [GroupBy1].[K4] AS [person_id], [GroupBy1].[K20] AS [first_name], [GroupBy1].[K22] AS [last_name], [GroupBy1].[K21] AS [middle_name], [GroupBy1].[K2] AS [enterprise_id], [GroupBy1].[K3] AS [practice_id], [GroupBy1].[K23] AS [practice_name], [GroupBy1].[K1] AS [enc_id], CAST( [GroupBy1].[K5] AS datetime2) AS [C3], [GroupBy1].[K6] AS [enc_timestamp_tz], [GroupBy1].[K8] AS [order_num], CASE WHEN ([GroupBy1].[K12] IS NULL) THEN CAST(NULL AS varchar(1)) ELSE SUBSTRING([GroupBy1].[K12], 0 + 1, 255) END AS [C4], CAST(NULL AS varchar(1)) AS [C5], CAST(NULL AS varchar(1)) AS [C6], N'LAB' AS [C7], [GroupBy1].[K17] AS [created_by], [GroupBy1].[K13] AS [create_timestamp], [GroupBy1].[K15] AS [create_timestamp_tz], [GroupBy1].[K18] AS [modified_by], [GroupBy1].[K14] AS [modify_timestamp], [GroupBy1].[K16] AS [modify_timestamp_tz], CAST(NULL AS varchar(1)) AS [C8], 0 AS [C9], [GroupBy1].[K9] AS [paq_provider_id], CASE WHEN (N'Assigned' = [GroupBy1].[K11]) THEN N'P' ELSE N'A' END AS [C10], CAST(NULL AS uniqueidentifier) AS [C11], [GroupBy1].[K19] AS [completed_ind], [GroupBy1].[K7] AS [rendering_provider_id], [GroupBy1].[K10] AS [ordering_provider], cast(1 as bit) AS [C12], CASE WHEN ([GroupBy1].[A1] IS NULL) THEN N'' ELSE CAST( [GroupBy1].[A2] AS nvarchar(max)) END AS [C13], [GroupBy1].[K24] AS [privacy_level], [GroupBy1].[K25] AS [incl_ind], [GroupBy1].[K26] AS [excl_ind] FROM ( SELECT [Filter12].[K1] AS [K1], [Filter12].[K2] AS [K2], [Filter12].[K3] AS [K3], [Filter12].[K4] AS [K4], [Filter12].[K5] AS [K5], [Filter12].[K6] AS [K6], [Filter12].[K7] AS [K7], [Filter12].[K8] AS [K8], [Filter12].[K9] AS [K9], [Filter12].[K10] AS [K10], [Filter12].[K11] AS [K11], [Filter12].[K12] AS [K12], [Filter12].[K13] AS [K13], [Filter12].[K14] AS [K14], [Filter12].[K15] AS [K15], [Filter12].[K16] AS [K16], [Filter12].[K17] AS [K17], [Filter12].[K18] AS [K18], [Filter12].[K19] AS [K19], [Filter12].[K20] AS [K20], [Filter12].[K21] AS [K21], [Filter12].[K22] AS [K22], [Filter12].[K23] AS [K23], [Filter12].[K24] AS [K24], [Filter12].[K25] AS [K25], [Filter12].[K26] AS [K26], MAX([Filter12].[A1]) AS [A1], MAX([Filter12].[A2]) AS [A2] FROM ( SELECT [Extent33].[enc_id] AS [K1], [Extent33].[enterprise_id] AS [K2], [Extent33].[practice_id] AS [K3], [Extent33].[person_id] AS [K4], [Extent33].[enc_timestamp] AS [K5], [Extent33].[enc_timestamp_tz] AS [K6], [Extent33].[rendering_provider_id] AS [K7], [Extent34].[order_num] AS [K8], [Extent34].[paq_provider_id] AS [K9], [Extent34].[ordering_provider] AS [K10], [Extent34].[ngn_status] AS [K11], [Extent34].[test_desc] AS [K12], [Extent34].[create_timestamp] AS [K13], [Extent34].[modify_timestamp] AS [K14], [Extent34].[create_timestamp_tz] AS [K15], [Extent34].[modify_timestamp_tz] AS [K16], [Extent34].[created_by] AS [K17], [Extent34].[modified_by] AS [K18], [Extent34].[completed_ind] AS [K19], [Extent38].[first_name] AS [K20], [Extent38].[middle_name] AS [K21], [Extent38].[last_name] AS [K22], [Extent39].[practice_name] AS [K23], [Extent40].[privacy_level] AS [K24], [Extent41].[incl_ind] AS [K25], [Extent41].[excl_ind] AS [K26], CASE WHEN ([Extent37].[abnorm_flag] IS NULL) THEN 1 ELSE [Extent37].[precedence] END AS [A1], CASE WHEN ([Extent37].[abnorm_flag] IS NULL) THEN 1 ELSE [Extent37].[precedence] END AS [A2] FROM [dbo].[patient_encounter] AS [Extent33] INNER JOIN [dbo].[lab_nor] AS [Extent34] ON ([Extent33].[enc_id] = [Extent34].[enc_id]) AND ([Extent33].[practice_id] = [Extent34].[practice_id]) AND ([Extent33].[enterprise_id] = [Extent34].[enterprise_id]) LEFT OUTER JOIN [dbo].[lab_results_obr_p] AS [Extent35] ON [Extent34].[order_num] = [Extent35].[ngn_order_num] LEFT OUTER JOIN [dbo].[lab_results_obx] AS [Extent36] ON [Extent35].[unique_obr_num] = [Extent36].[unique_obr_num] LEFT OUTER JOIN [dbo].[paq_lab_flags] AS [Extent37] ON [Extent36].[abnorm_flags] = [Extent37].[abnorm_flag] INNER JOIN [dbo].[person] AS [Extent38] ON [Extent33].[person_id] = [Extent38].[person_id] INNER JOIN [dbo].[practice] AS [Extent39] ON [Extent33].[practice_id] = [Extent39].[practice_id] LEFT OUTER JOIN [dbo].[patient] AS [Extent40] ON ([Extent38].[person_id] = [Extent40].[person_id]) AND ('"+System.getProperty("LoggedInEnterpriseId")+"' = [Extent40].[enterprise_id]) AND ('"+System.getProperty("LoggedInPracticeId")+"' = [Extent40].[practice_id]) LEFT OUTER JOIN [dbo].[user_person_filter] AS [Extent41] ON ([Extent38].[person_id] = [Extent41].[person_id]) AND ('"+System.getProperty("LoggedInUserId")+"' = [Extent41].[user_id]) AND ('"+System.getProperty("LoggedInEnterpriseId")+"' = [Extent41].[enterprise_id]) AND ('"+System.getProperty("LoggedInPracticeId")+"' = [Extent41].[practice_id]) WHERE ([Extent34].[ngn_status] IN (N'Assigned',N'Signed-Off')) AND (N'L' = [Extent34].[order_type]) AND (N'N' = [Extent34].[delete_ind]) ) AS [Filter12] GROUP BY [K1], [K2], [K3], [K4], [K5], [K6], [K7], [K8], [K9], [K10], [K11], [K12], [K13], [K14], [K15], [K16], [K17], [K18], [K19], [K20], [K21], [K22], [K23], [K24], [K25], [K26] ) AS [GroupBy1] WHERE ([GroupBy1].[K2] = '"+System.getProperty("LoggedInEnterpriseId")+"') AND ((([GroupBy1].[K9] IS NOT NULL) AND ([GroupBy1].[K9] = '"+parameters.get("providerId")+"')) OR (([GroupBy1].[K9] IS NULL) AND ([GroupBy1].[K7] = '"+parameters.get("providerId")+"')))) AS [UnionAll4] ) AS [Distinct4] WHERE [Distinct4].[C13] = '"+parameters.get("itemId")+"'";
				}
				

				String[] jsonMetaData = {"itemId","secondaryId","type","description","name","fileName;nornal","format","signoffStatus","signoffDescription","practiceId","practiceName","providerId","encounterId","encounterTimestamp;Date_YYYYMMDD HH:MM:SS","encounterTimestampTimezone","personId","firstName","lastName","middleName","appCreatedBy","createdBy","createTimestamp;Date_YYYYMMDD HH:MM:SS","createTimestampTimezone","modifiedBy","modifyTimestamp;Date_YYYYMMDD HH:MM:SS","modifyTimestampTimezone","isCompleted","labPrecedence"};

				try
				{	
					ArrayList<Object> jsonList = JsonListArray.computeJsonList(jsonMetaData, strResponse, strUniqueJsonToken);
					Log.info("JSON LIST is :\n" + jsonList);
					
					status = FinalAssertions.assertResponseCount(DatabaseConnection.statementExecution(BaseTest.connNGA, strQuery), strResponse, "$..itemId", jsonList);
					//objHandler = FinalAssertions.assertResponseCount(jsonMetaData, objHandler, DatabaseConnection.statementExecution(connNGA, strQuery), "id");
				} 
				catch (Exception e)
				{
					e.printStackTrace();
					Log.info("Error in Test Class and the detail are : \n" + e.getMessage());
					softAssert.fail("Error in Test Script please look at logs");
					//objHandler.setStrRequestStatus("Fail");
				}
			}
			catch(Exception e)
			{
				e.printStackTrace();
			}
		}
		else
		{
			status = true;
		}

		return status;
	}


}
